{"version":3,"sources":["webpack://ucloud-design-site/./src/components/ToC/index.tsx","webpack://ucloud-design-site/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://ucloud-design-site/./src/components/ToC/styles.module.scss","webpack://ucloud-design-site/./src/templates/spec.tsx","webpack://ucloud-design-site/./src/utils/index.ts","webpack://ucloud-design-site/./src/templates/styles.module.scss","webpack://ucloud-design-site/./src/images/edit.svg"],"names":["props","headings","currentHash","originalHash","className","rest","location","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","styles","map","heading","index","hash","id","value","replace","toLowerCase","isHighlight","depth","style","paddingLeft","href","data","markdownRemark","slug","fields","specName","delLast","split","title","frontmatter","description","dangerouslySetInnerHTML","__html","html","str","del","lastIndexOf","substring","wrapper","contentWrapper","content","top","tabs","current","designIcon","devIcon","dtIcon","React","Edit","createElement","defaultProps","module","exports","default"],"mappings":"8OAqDA,EA5CY,SAACA,GAOT,IAAQC,EAAsED,EAAtEC,SAAUC,EAA4DF,EAA5DE,YAAaC,EAA+CH,EAA/CG,aAAcC,EAAiCJ,EAAjCI,UAAwBC,GAASL,EAAtBM,SChB7C,SAAuCC,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,EDIL,CAA8EX,EAA9E,IAEA,OAAKC,WAAUc,OAKX,uCAASV,EAAT,CAAeD,UAAca,kCAAkBb,GAAa,MACxD,gCACA,uBAAKA,UEvBQ,qCFwBRH,EAASiB,KAAI,SAACC,EAASC,GACpB,IAAMC,EAAOlB,EAAegB,EAAQG,GAAKH,EAAQI,MAAMC,QAAQ,OAAQ,KAAKC,cACtEC,EAAc,IAAIL,IAAWnB,EAEnC,GAAsB,IAAlBiB,EAAQQ,OAAiC,IAAlBR,EAAQQ,MAC/B,OACI,uBACIvB,UAAca,6BAAaS,EE7BtC,gCF6BqE,IAC1DjB,IAAKU,EAAQI,MAAQH,GAErB,qBACIQ,MAAO,CACHC,YAA+B,IAAlBV,EAAQQ,MAAc,GAAK,GAE5CG,KAAI,IAAMT,GAETF,EAAQI,aAvB9B,O,4HGuBf,UAjCc,SAAC,GAAwB,IAAtBQ,EAAqB,EAArBA,KAAMzB,EAAe,EAAfA,SACb0B,EAAiBD,EAAKC,eACtBC,EAAOD,EAAeE,OAAOD,KAC7BE,GAAWC,OAAQH,EAAKI,MAAM,UAAU,GAAI,KAElD,OACI,uBAAKjC,UAAWa,MACZ,gBAAC,IAAD,CAAKqB,MAAON,EAAeO,YAAYD,QAEvC,uBAAKlC,UAAWa,MACZ,gBAAC,IAAD,CAAKhB,SAAU+B,EAAe/B,UAAY,GAAIK,SAAUA,IACxD,uBAAKF,UAAWa,MACZ,uBAAKb,UAAWa,MACZ,0BACKe,EAAeO,YAAYD,MAAQN,EAAeO,YAAYD,MAAQH,EACvE,qBACIL,KAAI,gEAAkEK,EAAlE,YACJxB,OAAO,UAEP,gBAAC,IAAD,QAGPqB,EAAeO,YAAYC,aAAe,yBAAIR,EAAeO,YAAYC,cAG9E,2BAASpC,UAAU,2BAA2BqC,wBAAyB,CAAEC,OAAQV,EAAeW,SAEpG,gBAAC,IAAD,U,kCCpCT,SAASP,EAAQQ,EAAaC,GACjC,GAAmB,iBAARD,EACP,OAAOA,EAGX,IAAIxB,EAAQwB,EAAIE,YAAYD,GAC5B,OAAOD,EAAIG,UAAU,EAAG3B,GAASwB,EAAIG,UAAU3B,EAAQ,EAAGwB,EAAI7B,Q,oSCL3D,IAAIiC,EAAU,gCACVC,EAAiB,wCACjBC,EAAU,gCACVC,EAAM,4BACNC,EAAO,6BACPC,EAAU,gCACVC,EAAa,oCACbC,EAAU,gCACVC,EAAS,gC,qBCTpB,IAAIC,EAAQ,EAAQ,MAEpB,SAASC,EAAM1D,GACX,OAAOyD,EAAME,cAAc,MAAM3D,EAAMyD,EAAME,cAAc,IAAI,KAAK,CAACF,EAAME,cAAc,OAAO,CAAC,EAAI,kPAAkP,IAAM,IAAIF,EAAME,cAAc,OAAO,CAAC,EAAI,sMAAsM,IAAM,OAGjlBD,EAAKE,aAAe,CAAC,QAAU,MAAM,GAAK,UAAU,EAAI,MAAM,EAAI,MAAM,MAAQ,OAAO,OAAS,OAAO,QAAU,YAAY,iBAAmB,gBAAgB,SAAW,YAE3KC,EAAOC,QAAUJ,EAEjBA,EAAKK,QAAUL","file":"component---src-templates-spec-tsx-83abd788831ce02d9391.js","sourcesContent":["import * as React from 'react';\nimport * as styles from './styles.module.scss';\n\nexport type Heading = {\n    value: string;\n    depth: number;\n    id?: string;\n};\n\nconst ToC = (props: {\n    currentHash?: string;\n    originalHash?: boolean;\n    headings: Heading[];\n    className?: string;\n    location: any;\n}) => {\n    const { headings, currentHash, originalHash, className, location, ...rest } = props;\n\n    if (!headings?.length) {\n        return null;\n    }\n\n    return (\n        <div {...rest} className={`${styles.wrapper} ${className || ''}`}>\n            <h2>目录</h2>\n            <div className={styles.innerScroll}>\n                {headings.map((heading, index) => {\n                    const hash = originalHash ? heading.id : heading.value.replace(/\\s+/g, '-').toLowerCase();\n                    const isHighlight = `#${hash}` === currentHash;\n\n                    if (heading.depth === 2 || heading.depth === 3) {\n                        return (\n                            <div\n                                className={`${styles.to} ${isHighlight ? styles.current : ''}`}\n                                key={heading.value + index}\n                            >\n                                <a\n                                    style={{\n                                        paddingLeft: heading.depth === 3 ? 16 : 0,\n                                    }}\n                                    href={`#${hash}`}\n                                >\n                                    {heading.value}\n                                </a>\n                            </div>\n                        );\n                    }\n                })}\n            </div>\n        </div>\n    );\n};\n\nexport default ToC;\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport var wrapper = \"styles-module--wrapper--1fEI_\";\nexport var innerScroll = \"styles-module--innerScroll--3dHAL\";\nexport var to = \"styles-module--to--1wgum\";\nexport var current = \"styles-module--current--el52f\";","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport Seo from '../components/seo';\nimport ToC from '../components/ToC';\nimport Footer from '../components/Footer';\nimport { delLast } from '../utils';\nimport Edit from '../images/edit.svg';\nimport * as styles from './styles.module.scss';\n\nconst Index = ({ data, location }) => {\n    const markdownRemark = data.markdownRemark;\n    const slug = markdownRemark.fields.slug;\n    const specName = delLast(slug.split('/spec/')[1], '/');\n\n    return (\n        <div className={styles.wrapper}>\n            <Seo title={markdownRemark.frontmatter.title} />\n\n            <div className={styles.contentWrapper}>\n                <ToC headings={markdownRemark.headings || []} location={location} />\n                <div className={styles.content}>\n                    <div className={styles.top}>\n                        <h1>\n                            {markdownRemark.frontmatter.title ? markdownRemark.frontmatter.title : specName}\n                            <a\n                                href={`https://github.com/UCloud-FE/u-design/blob/main/content/spec/${specName}/index.md`}\n                                target=\"_blank\"\n                            >\n                                <Edit />\n                            </a>\n                        </h1>\n                        {markdownRemark.frontmatter.description && <p>{markdownRemark.frontmatter.description}</p>}\n                    </div>\n\n                    <section className=\"u-markdown-design-styles\" dangerouslySetInnerHTML={{ __html: markdownRemark.html }} />\n                </div>\n                <Footer />\n            </div>\n        </div>\n    );\n};\n\nexport default Index;\n\nexport const pageQuery = graphql`\n    query SpecBySlug($id: String!) {\n        markdownRemark(id: { eq: $id }) {\n            id\n            excerpt(pruneLength: 160)\n            html\n            headings {\n                value\n                depth\n            }\n            fields {\n                slug\n            }\n            frontmatter {\n                title\n            }\n        }\n    }\n`;\n","export function delLast(str: string, del: string): string {\n    if (typeof str !== 'string') {\n        return str;\n    }\n\n    let index = str.lastIndexOf(del);\n    return str.substring(0, index) + str.substring(index + 1, str.length);\n}\n","// extracted by mini-css-extract-plugin\nexport var wrapper = \"styles-module--wrapper--1ngeQ\";\nexport var contentWrapper = \"styles-module--content-wrapper--23mbo\";\nexport var content = \"styles-module--content--3UXj2\";\nexport var top = \"styles-module--top--14Xp8\";\nexport var tabs = \"styles-module--tabs--2351a\";\nexport var current = \"styles-module--current--2oNGU\";\nexport var designIcon = \"styles-module--design-icon--1yNrb\";\nexport var devIcon = \"styles-module--devIcon--2YMwg\";\nexport var dtIcon = \"styles-module--dtIcon--1Lz32\";","var React = require('react');\n\nfunction Edit (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"g\",null,[React.createElement(\"path\",{\"d\":\"M87,29c-2.209,0-4,1.791-4,4v44c0,2.21-1.79,4-4,4H15c-2.21,0-4-1.79-4-4V13c0-2.21,1.79-4,4-4h44c2.209,0,4-1.791,4-4\\n\\t\\ts-1.791-4-4-4H15C8.373,1,3,6.373,3,13v64c0,6.627,5.373,12,12,12h64c6.627,0,12-5.373,12-12V33C91,30.791,89.209,29,87,29z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M52.172,39.829C52.952,40.609,53.977,41,55,41s2.048-0.391,2.828-1.171l32-32c1.562-1.562,1.562-4.095,0-5.657\\n\\t\\tc-1.561-1.562-4.096-1.562-5.656,0l-32,32C50.609,35.734,50.609,38.266,52.172,39.829z\",\"key\":1})]));\n}\n\nEdit.defaultProps = {\"version\":\"1.1\",\"id\":\"Layer_1\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"96px\",\"height\":\"96px\",\"viewBox\":\"0 0 96 96\",\"enableBackground\":\"new 0 0 96 96\",\"xmlSpace\":\"preserve\"};\n\nmodule.exports = Edit;\n\nEdit.default = Edit;\n"],"sourceRoot":""}